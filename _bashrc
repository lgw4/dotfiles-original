# ${HOME}/.bashrc

# Get OS kernel name
export OS_KERNEL="$(uname -s)"

# Import files from ${HOME}/.bashrc.d
if [ -d ${HOME}/.bashrc.d ]; then
    for f in ${HOME}/.bashrc.d/*.sh; do
        source ${f}
    done
fi

# Don't put duplicate lines or lines starting with space in the history.
# See bash(1) for more options
HISTCONTROL=ignoreboth

# Append to the history file, don't overwrite it
shopt -s histappend

# For setting history length see HISTSIZE and HISTFILESIZE in bash(1)
HISTSIZE=1000
HISTFILESIZE=2000

# Check the window size after each command and, if necessary,
# Update the values of LINES and COLUMNS.
shopt -s checkwinsize

# Enable bash completion
if [ ${OS_KERNEL} == "Darwin" ]; then
    if [ -f /opt/local/etc/bash_completion ]; then
        source /opt/local/etc/bash_completion
    fi
elif [ ${OS_KERNEL} == "Linux" ]; then
    if [ -f /etc/bash_completion ] && ! shopt -oq posix; then
        source /etc/bash_completion
    fi
fi

# Run fortune, if available
if hash fortune 2>/dev/null; then
    echo
    fortune -a
fi
